<!DOCTYPE html>
<html lang="en" ng-app="alerta">
  <head>
    <title>Alerta</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic'>
    <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/0.11.0/angular-material.min.css"/>
    <link rel="stylesheet" href="css/app.css"/>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', '@@TRACKING_ID', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body layout="column" ng-controller="NavController as nav">

    <md-toolbar ng-show="!nav.showSearch">
      <div class="md-toolbar-tools">
        <md-button class="md-icon-button" aria-label="Menu">
          <md-icon md-svg-icon="menu" ng-click="nav.menu()"></md-icon>
        </md-button>
        <h2>
          <span>Alerta</span>
        </h2>
        <md-select ng-model="nav.status">
          <md-option ng-repeat="s in nav.showStatus" ng-value="s.status" ng-selected="s.name == 'All'">{{ s.name }}</md-option>
        </md-select>
<!--         <md-select ng-model="nav.status">
          <md-option ng-repeat="status in nav.statuses" value="{{ status }}" ng-selected="status.name == 'All'">{{ status.name }}</md-option>
        </md-select> -->
        <span flex></span>
        <md-button class="md-icon-button" ng-click="nav.showSearch = !nav.showSearch" aria-label="Search">
          <md-icon md-svg-icon="search"></md-icon>
        </md-button>

        <md-menu>
          <md-button class="md-icon-button" aria-label="Account" ng-click="nav.profile($mdOpenMenu, $event);">
            <md-tooltip md-direction="bottom">{{ nav.isAuthenticated() ? nav.name : 'Login' }}</md-tooltip>
            <md-icon md-svg-icon="account"></md-icon>
          </md-button>
          <md-menu-content>
            <md-menu-item>
              <md-button disabled="disabled" ng-href="#">
                <md-icon md-svg-icon="account" md-menu-align-target></md-icon>
                {{ nav.login }}
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-href="#/logout">
                <md-icon md-svg-icon="exit_to_app" md-menu-align-target></md-icon>
                Sign out
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>

        <md-menu>
          <md-button class="md-icon-button" aria-label="More" ng-click="$mdOpenMenu($event)">
            <md-icon md-svg-icon="more_vert"></md-icon>
          </md-button>
          <md-menu-content>
            <md-menu-item>
              <md-button ng-click="logout($event)">
                <md-icon md-svg-icon="help" md-menu-align-target></md-icon>
                Help &amp; feedback
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="nav.showAbout()">
                <md-icon md-svg-icon="info" md-menu-align-target></md-icon>
                About
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-href="#/stats">
                <md-icon md-svg-icon="stats" md-menu-align-target></md-icon>
                Statistics
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-href="#">
                <md-icon md-svg-icon="settings" md-menu-align-target></md-icon>
                Settings
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
      </div>
    </md-toolbar>

    <md-toolbar ng-show="nav.showSearch">
      <div class="md-toolbar-tools">
        <md-button class="md-icon-button" ng-click="nav.showSearch = !nav.showSearch" aria-label="Back">
          <md-icon md-svg-icon="arrow_back"></md-icon>
        </md-button>
        <h2>
          <span>Alerta</span>
        </h2>
        <span flex></span>
        <md-input-container md-no-float flex>
          <label>Search</label>
          <input type="text" ng-model="nav.search" autofocus />
        </md-input-container>
        <md-button class="md-icon-button" ng-click="nav.clear();" aria-label="Close">
          <md-icon md-svg-icon="close"></md-icon>
        </md-button>
        <md-menu>
          <md-button class="md-icon-button" aria-label="More" ng-click="$mdOpenMenu($event)">
            <md-icon md-svg-icon="more_vert"></md-icon>
          </md-button>
          <md-menu-content>
            <md-menu-item>
              <md-button ng-click="logout($event)">
                <md-icon md-svg-icon="help" md-menu-align-target></md-icon>
                Help &amp; feedback
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="logout($event)">
                <md-icon md-svg-icon="info" md-menu-align-target></md-icon>
                About
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="logout($event)">
                <md-icon md-svg-icon="settings" md-menu-align-target></md-icon>
                Settings
              </md-button>
            </md-menu-item>
            <md-menu-item>
              <md-button ng-click="logout($event)">
                <md-icon md-svg-icon="exit_to_app" md-menu-align-target></md-icon>
                Sign out
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
      </div>
    </md-toolbar>

    <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left">
      <md-toolbar>
        <div class="md-toolbar-tools">
          <md-button class="md-icon-button" aria-label="Menu">
            <md-icon md-svg-icon="menu" ng-click="nav.menu()"></md-icon>
          </md-button>
          <h2>
              <span>Alerta</span>
          </h2>
          <span flex=""></span>
        </div>
      </md-toolbar>

      <md-content layout-padding>

      <md-list>
      <md-subheader class="md-no-sticky">Services</md-subheader>
      <md-list-item ng-click="nav.setService(null);" style="width: 100%;">
        <md-icon class="md-default-theme" class="material-icons">&#xE7F9;</md-icon>
        <p>ALL</p>
        <div class="md-secondary">??</div>
      </md-list-item>

<!--       <md-list-item ng-repeat="s in nav.services | orderBy:['environment','service'] track by $index" ng-click="nav.setService(s.service);" style="width: 100%;">
        <md-icon class="md-default-theme" class="material-icons">&#xE7F9;</md-icon>
        <p>{{ s.service }}</p>
        <div class="md-secondary">{{ s.count }}</div>
      </md-list-item> -->
      <md-divider></md-divider>
      <md-list-item ng-click="nav.navigateTo('/top10', $event)" aria-label="top10">
        <md-icon class="md-default-theme" class="material-icons">format_list_numbered</md-icon>
        <p>Top 10</p>
      </md-list-item>
      <md-list-item ng-click="nav.navigateTo('/watch', $event)" aria-label="watched">
        <md-icon class="md-default-theme" class="material-icons">visibility</md-icon>
        <p>Watched</p>
      </md-list-item>

      <md-divider></md-divider>
      <md-subheader class="md-no-sticky">Configuration</md-subheader>
      <md-list-item ng-click="nav.navigateTo('/users', $event)" aria-label="users">
        <md-icon class="md-default-theme" class="material-icons">people</md-icon>
        <p>Users</p>
      </md-list-item>
      <md-list-item ng-click="nav.navigateTo('/keys', $event)" aria-label="keys">
        <md-icon class="md-default-theme" class="material-icons">vpn_key</md-icon>
        <p>API Keys</p>
      </md-list-item>
      <md-list-item ng-click="nav.navigateTo('/blackouts', $event)" aria-label="blackouts">
        <md-icon class="md-default-theme" class="material-icons">schedule</md-icon>
        <p>Blackout Periods</p>
      </md-list-item>
      </md-list>

      </md-content>
    </md-sidenav>

    <div ng-view></div>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-aria.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-resource.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-route.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular-sanitize.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angular_material/0.11.0/angular-material.min.js"></script>
    <script src="//cdn.jsdelivr.net/angular-material-icons/0.4.0/angular-material-icons.min.js"></script>

    <script src="config.js"></script>  <!-- configuration options -->

    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>
    <script src="vendor/satellizer.min.js"></script>

  </body>
</html>
